webpackJsonp([2],{"4d+Q":function(t,e){},"93ur":function(t,e){},Bfwr:function(t,e,i){"use strict";function o(t){i("auFa")}var n=(Boolean,String,String,String,{name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(t){this.$emit("update:show",t)}}}),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:t.transition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading"},[i("div",{staticClass:"weui-mask_transparent"}),t._v(" "),i("div",{staticClass:"weui-toast",style:{position:t.position}},[i("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),i("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2)])])])},s=[],r={render:a,staticRenderFns:s},u=r,l=i("VU/8"),c=o,d=l(n,u,!1,c,null,null);e.a=d.exports},FvI1:function(t,e){},NHnr:function(t,e,i){"use strict";function o(t){i("4d+Q")}function n(t){i("93ur")}function a(t){i("FvI1")}Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),r=i("NYxO"),u=i("v5o6"),l=i.n(u),c=i("/ocq"),d=i("Dd8w"),h=i.n(d),p=i("Bfwr"),f=i("17Ff"),v=i.n(f),w=i("BEQ0"),m=i.n(w),_=(Object,String,String,Object,{name:"x-header",props:{leftOptions:Object,title:String,transition:String,rightOptions:{type:Object,default:function(){return{showMore:!1}}}},beforeMount:function(){this.$slots["overwrite-title"]&&(this.shouldOverWriteTitle=!0)},computed:{_leftOptions:function(){return m()({showBack:!0,preventGoBack:!1},this.leftOptions||{})}},methods:{onClickBack:function(){this._leftOptions.preventGoBack?this.$emit("on-click-back"):this.$router?this.$router.back():window.history.back()}},data:function(){return{shouldOverWriteTitle:!1}}}),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-header"},[i("div",{staticClass:"vux-header-left"},[t._t("overwrite-left",[i("transition",{attrs:{name:t.transition}},[i("a",{directives:[{name:"show",rawName:"v-show",value:t._leftOptions.showBack,expression:"_leftOptions.showBack"}],staticClass:"vux-header-back",on:{click:[function(e){if(!("button"in e)&&t._k(e.keyCode,"preventDefault",void 0,e.key))return null},t.onClickBack]}},[t._v(t._s(void 0===t._leftOptions.backText?"返回":t._leftOptions.backText))])]),t._v(" "),i("transition",{attrs:{name:t.transition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t._leftOptions.showBack,expression:"_leftOptions.showBack"}],staticClass:"left-arrow",on:{click:t.onClickBack}})])]),t._v(" "),t._t("left")],2),t._v(" "),t.shouldOverWriteTitle?t._e():i("h1",{staticClass:"vux-header-title",on:{click:function(e){t.$emit("on-click-title")}}},[t._t("default",[i("transition",{attrs:{name:t.transition}},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}]},[t._v(t._s(t.title))])])])],2),t._v(" "),t.shouldOverWriteTitle?i("div",{staticClass:"vux-header-title-area"},[t._t("overwrite-title")],2):t._e(),t._v(" "),i("div",{staticClass:"vux-header-right"},[t.rightOptions.showMore?i("a",{staticClass:"vux-header-more",on:{click:[function(e){if(!("button"in e)&&t._k(e.keyCode,"preventDefault",void 0,e.key))return null},function(e){t.$emit("on-click-more")}]}}):t._e(),t._v(" "),t._t("right")],2)])},x=[],k={render:g,staticRenderFns:x},y=k,S=i("VU/8"),B=o,b=S(_,y,!1,B,null,null),$=b.exports,C={name:"fixheader",components:{XHeader:$},props:["title","showBack"],data:function(){return{}}},O=function(){var t=this,e=t.$createElement;return(t._self._c||e)("x-header",{staticClass:"fix-header",attrs:{title:t.title,"left-options":{showBack:t.showBack}}})},T=[],N={render:O,staticRenderFns:T},V=N,I=i("VU/8"),F=n,M=I(C,V,!1,F,"data-v-feaefc2c",null),E=M.exports,j=(i("162o"),j||{});j.errorInfo={success:{errorcode:0,errordesc:"请求成功"},token:{errorcode:99999,errordesc:"令牌错误，请重新登录"}};var P=[{path:"/",title:"首页"},{path:"/detail",title:"领取红包"}],X="http://ss.api.imi78.com/api/";s.a.prototype.domainName="localhost:8010",s.a.prototype.serverName="http://ss.api.imi78.com",s.a.prototype.apiPrefix=X,s.a.prototype.matchTitle=function(t){return P.filter(function(e,i,o){if(t==o[i].path)return o[i].title})[0].title},s.a.prototype.http=function(t){var e=this,i=null;i=void 0==t.autohandle||t.autohandle,e.$vux.loading.show({text:"加载中..."}),e.$http({method:t.method,url:X+t.url,headers:t.headers||{Authorization:"IMIWXXCX "+v.a.get("token")},params:t.params||{},data:t.data||{}}).then(function(o){e.$vux.loading.hide();var n=o.data.errorcode,a=o.data.errordesc;return n==j.errorInfo.token.errorcode?(e.$vux.alert.show({title:"错误",content:j.errorInfo.token.desc}),!1):n==j.errorInfo.success.errorcode?(t.success&&t.success(o.data),!0):1==i?(e.$vux.alert.show({title:"错误",content:a}),!1):(t.success&&t.success(o.data),!0)}).catch(function(i){if(e.$vux.loading.hide(),t.error)t.error(i.response.data.data);else{var o=i.response,n="请求失败";o&&o.data&&("login_timeout_error"===o.data.code&&(window.location.href="/"),n=o.data.message),e.$vux.alert.show({title:"提示",content:n})}})},s.a.prototype.get=function(t){t.method="get",this.http(t)},s.a.prototype.post=function(t){t.method="post",this.http(t)},s.a.prototype.put=function(t){t.method="put",this.http(t)},s.a.prototype.delete=function(t){t.method="delete",this.http(t)},s.a.prototype.valid=function(t){var e=this,i=!0;if(t.ref&&!t.ref.valid&&(i=!1),t.ignoreRefs){var o=[];for(var n in t.refs){var a=t.refs[n];for(var s in t.ignoreRefs){a!==t.ignoreRefs[s]&&o.push(a)}}t.refs=o}for(var r in t.refs)if(!t.refs[r].valid){i=!1;break}i?t.success():t.error?t.error():e.$vux.toast.show({text:"请检查输入"})},s.a.prototype.closeShowBack=function(){this.$store.commit("updateShowBack",!1)},s.a.prototype.updateTitle=function(t){this.$store.commit("updateTitle",t)};var R=(p.a,h()({},Object(r.b)({direction:function(t){return t.vux.direction}}),{title:function(){var t=this.$route.path;return this.matchTitle(t)},showBack:function(){if("/"!==this.$route.path)return!0},viewTransition:function(){return this.direction?"vux-pop-"+("forward"===this.direction?"in":"out"):""}}),{name:"app",data:function(){return{}},mounted:function(){v.a.set("token","123",{expires:1})},components:{Loading:p.a,FixHeader:E},computed:h()({},Object(r.b)({direction:function(t){return t.vux.direction}}),{title:function(){var t=this.$route.path;return this.matchTitle(t)},showBack:function(){if("/"!==this.$route.path)return!0},viewTransition:function(){return this.direction?"vux-pop-"+("forward"===this.direction?"in":"out"):""}})}),W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"scroll-view"},[i("transition",{attrs:{name:t.viewTransition}},[i("router-view",{staticClass:"router-view"})],1)],1)])},H=[],U={render:W,staticRenderFns:H},D=U,J=i("VU/8"),Z=a,z=J(R,D,!1,Z,null,null),L=z.exports;s.a.use(r.a);var Q=new r.a.Store({});Q.registerModule("vux",{state:{loading:!1,showBack:!0,title:"",direction:"forward"},mutations:{updateLoading:function(t,e){t.loading=e},updateShowBack:function(t,e){t.showBack=e},updateTitle:function(t,e){t.title=e},updateDirection:function(t,e){t.direction=e}}});var q=Q;i("o/zv");s.a.use(c.a);var G=[{path:"/",component:function(t){return i.e(0).then(function(){var e=[i("wHgX")];t.apply(null,e)}.bind(this)).catch(i.oe)}}],A=new c.a({mode:"history",routes:G});A.beforeEach(function(t,e,i){i()}),A.afterEach(function(t){});var Y=A,K=i("n6Wb"),tt=i("yD8N"),et=i("Y+qm"),it=i("3BeM"),ot=i("Peep"),nt=i("Sga9");s.a.prototype.updateTitle=function(t){this.$store.commit("updateTitle",t)},l.a.attach(document.body),s.a.config.productionTip=!1,s.a.use(nt.a),s.a.use(K.a),s.a.use(tt.a),s.a.use(et.a),s.a.use(it.a),s.a.use(ot.a),new s.a({store:q,router:Y,render:function(t){return t(L)}}).$mount("#app-box")},NeJJ:function(t,e){},aN9Q:function(t,e){},auFa:function(t,e){},d9KP:function(t,e){},mzja:function(t,e,i){"use strict";function o(t){i("aN9Q")}function n(t){i("d9KP")}var a=i("JkZY"),s=(a.a,Boolean,String,String,Number,String,String,Boolean,Object,Boolean,{mixins:[a.a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(t){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(t){this.$emit("update:show",t),this.$emit(t?"on-show":"on-hide"),t?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var t=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),e=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(t&&e)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===t.layout}},[i("transition",{attrs:{name:t.maskTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-mask",style:t.maskStyle,on:{click:t.hide}})]),t._v(" "),i("transition",{attrs:{name:t.dialogTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.dialogClass,style:t.dialogStyle},[t._t("default")],2)])],1)},u=[],l={render:r,staticRenderFns:u},c=l,d=i("VU/8"),h=o,p=d(s,c,!1,h,null,null),f=p.exports,v=(Boolean,String,String,String,Boolean,String,String,Number,String,{name:"alert",components:{XDialog:f},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(t){this.showValue=t},showValue:function(t){this.$emit("input",t)}}}),w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-alert"},[i("x-dialog",{attrs:{"mask-transition":t.maskTransition,"dialog-transition":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){t.$emit("on-hide")},"on-show":function(e){t.$emit("on-show")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[i("div",{staticClass:"weui-dialog__hd"},[i("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"weui-dialog__bd"},[t._t("default",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t._v(" "),i("div",{staticClass:"weui-dialog__ft"},[i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t._onHide}},[t._v(t._s(t.buttonText||"确定"))])])])],1)},m=[],_={render:w,staticRenderFns:m},g=_,x=i("VU/8"),k=n,y=x(v,g,!1,k,null,null);e.a=y.exports},rLAy:function(t,e,i){"use strict";function o(t){i("NeJJ")}var n=i("xNvf"),a=(n.a,Boolean,Number,String,String,String,Boolean,String,String,{name:"toast",mixins:[n.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(t){var e=this;t&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1,e.$emit("input",!1),e.$emit("on-hide"),e.fixSafariOverflowScrolling("touch")},this.time))},value:function(t){this.show=t}}}),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-toast"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask&&t.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),t._v(" "),i("transition",{attrs:{name:t.currentTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-toast",class:t.toastClass,style:{width:t.width}},[i("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==t.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),t._v(" "),t.text?i("p",{staticClass:"weui-toast__content",style:t.style,domProps:{innerHTML:t._s(t.text)}}):i("p",{staticClass:"weui-toast__content",style:t.style},[t._t("default")],2)])])],1)},r=[],u={render:s,staticRenderFns:r},l=u,c=i("VU/8"),d=o,h=c(a,l,!1,d,null,null);e.a=h.exports}},["NHnr"]);
//# sourceMappingURL=app.e7aae7c2ecaa0339c645.js.map